{% extends 'user/navbar.html' %}

{% block title %}
    Add complain
{% endblock %}

{% block js_script %}
	function populate(){
		var categories = {{ categories|safe }} ;
		var sub_categories = {{ sub_categories.0|safe }} ;
		var select_cat = document.getElementById( "category" ) ;
		var select_sub = document.getElementById( "sub_category" ) ;
		for( i=0 ; i < categories.length ; i++ ){
			document.write( categories[i] )
		}
	}
{% endblock %}

{% block section %}
	<div class="wrap">
		<h1 align="center">Register Complaint</h1>
		<form method = "post" action = "/complain/add/" enctype = "multipart/form-data">
		{% csrf_token %}
			<p>
				<input type = "text" name = "subject" placeholder="Enter your Complain's subject" value = "{{complain.subject}}">
			</p>
			<p>
				<select name = "category" id="category" >
					<option selected>Select Category</option>
					{% for code, category in categories %}
						<option> {{category}} </option>
					{% endfor %}
				</select>
			</p>
			<p>
				<select name = "sub_category" id="sub_category">
					<option selected>Select Sub Category</option>
					{% for section in sub_categories %}
						{% for code, sub_category in section %}
							<option> {{sub_category}} </option>
						{% endfor %}
					{% endfor %}
				</select>
			</p>
			<p>
				<textarea name = "brief">{% if not complain.brief %}Add your complain in brief here...{% else %}{{ complain.brief }}{% endif %}</textarea>
			</p>
			<p> &nbsp;&nbsp; Upload document :<br>
				&nbsp;&nbsp;<input type = "file" name = "file" value = "{{complain.file}}">
			</p>
			&nbsp;&nbsp;<input type = "submit" id="add_complain_submit" value="Add Complaint">  
		</form>
	</div>
{% endblock %}
